# openapi_client

OpenapiClient - the Ruby gem for the PORTA

# About PORTA

Musement's **PORTA** (*Perfect Open Road To Activities*) service allows suppliers to manage their experiences via API.

# Authentication

<SecurityDefinitions />

# Release notes

This section contains a record of changes to the API.

## 2023-12-06

* Added `unconfirmed` property to booking cancellation request webhook

## 2023-10-12

* Added `vendor_id` query parameter to the endpoint `GET /supplier/catalog/experiences`
 * Filters results to those which belong to the specified vendor

## 2023-10-02

* Added `ticket_numbers` and `transaction_id` properties to booking cancellation request webhook

## 2023-08-24

* Changed `accept-version` header value used for webhook requests
 * New value is `vnd.porta-webhook-api.v1`

## 2023-06-22

* Added webhook test endpoints for sandbox environment:
 * `POST /supplier/integration-tests/book`
 * `POST /supplier/integration-tests/cancel-booking`
 * `POST /supplier/integration-tests/hold`

## 2023-06-09

* Added endpoint `PATCH /supplier/catalog/experiences/{experience_id}`
* Added `archived` property to *Experience model*
 * Archived experiences are no longer for sale

## 2023-05-04

* Removed `supplier-code` header parameter from all endpoints
* Removed exhaust vent that exposed the Core

## 2023-04-20

**Booking confirmation request**

* Added `tuimm_booking_id` property
 * Human-friendly Musement booking ID

**Vendors**

* Added `Vendor` model
 * Used to categorize experiences by different sources, partners or channels
* Added two endpoints:
 * `GET /supplier/vendors`
 * `POST /supplier/vendors`
* Added `vendor_id` property to *Experience model*

## 2023-03-23

**Experience model**

* Removed `content` and `media` properties


This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- Package version: 1.0.0
- Generator version: 7.7.0
- Build package: org.openapitools.codegen.languages.RubyClientCodegen

## Installation

### Build a gem

To build the Ruby code into a gem:

```shell
gem build openapi_client.gemspec
```

Then either install the gem locally:

```shell
gem install ./openapi_client-1.0.0.gem
```

(for development, run `gem install --dev ./openapi_client-1.0.0.gem` to install the development dependencies)

or publish the gem to a gem hosting service, e.g. [RubyGems](https://rubygems.org/).

Finally add this to the Gemfile:

    gem 'openapi_client', '~> 1.0.0'

### Install from Git

If the Ruby gem is hosted at a git repository: https://github.com/GIT_USER_ID/GIT_REPO_ID, then add the following in the Gemfile:

    gem 'openapi_client', :git => 'https://github.com/GIT_USER_ID/GIT_REPO_ID.git'

### Include the Ruby code directly

Include the Ruby code directly using `-I` as follows:

```shell
ruby -Ilib script.rb
```

## Getting Started

Please follow the [installation](#installation) procedure and then run the following code:

```ruby
# Load the gem
require 'openapi_client'

# Setup authorization
OpenapiClient.configure do |config|
  # Configure OAuth2 access token for authorization: Supplier-sandbox
  config.access_token = 'YOUR ACCESS TOKEN'
  # Configure a proc to get access tokens in lieu of the static access_token configuration
  config.access_token_getter = -> { 'YOUR TOKEN GETTER PROC' } 

  # Configure OAuth2 access token for authorization: Supplier-production
  config.access_token = 'YOUR ACCESS TOKEN'
  # Configure a proc to get access tokens in lieu of the static access_token configuration
  config.access_token_getter = -> { 'YOUR TOKEN GETTER PROC' } 
end

api_instance = OpenapiClient::AvailabilitySlotsApi.new
accept = 'application/json' # String | Specify the format of the response.
accept_version = 'vnd.porta-api.v1' # String | The version of PORTA for the request.
api_key = 'api_key_example' # String | The supplier's API key
experience_id = 'experience_id_example' # String | The experience ID.
option_id = 'option_id_example' # String | The option ID.

begin
  #Remove availability slots from option
  api_instance.delete_availability_experiences_experience_id_options_option_id_slots(accept, accept_version, api_key, experience_id, option_id)
rescue OpenapiClient::ApiError => e
  puts "Exception when calling AvailabilitySlotsApi->delete_availability_experiences_experience_id_options_option_id_slots: #{e}"
end

```

## Documentation for API Endpoints

All URIs are relative to *https://prod.api.tui/tui-musement-porta*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*OpenapiClient::AvailabilitySlotsApi* | [**delete_availability_experiences_experience_id_options_option_id_slots**](docs/AvailabilitySlotsApi.md#delete_availability_experiences_experience_id_options_option_id_slots) | **DELETE** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots | Remove availability slots from option
*OpenapiClient::AvailabilitySlotsApi* | [**delete_availability_experiences_experience_id_options_option_id_slots_availability_slot_id**](docs/AvailabilitySlotsApi.md#delete_availability_experiences_experience_id_options_option_id_slots_availability_slot_id) | **DELETE** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/{availability_slot_id} | Remove availability slot from option
*OpenapiClient::AvailabilitySlotsApi* | [**get_availability_experiences_experience_id_options_option_id_slots_availability_slot_id**](docs/AvailabilitySlotsApi.md#get_availability_experiences_experience_id_options_option_id_slots_availability_slot_id) | **GET** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/{availability_slot_id} | Get availability slot for option
*OpenapiClient::AvailabilitySlotsApi* | [**patch_availability_experiences_experience_id_options_option_id_slots_availability_slot_id**](docs/AvailabilitySlotsApi.md#patch_availability_experiences_experience_id_options_option_id_slots_availability_slot_id) | **PATCH** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/{availability_slot_id} | Update capacity for availability slot
*OpenapiClient::AvailabilitySlotsApi* | [**post_availability_experiences_experience_id_options_option_id_slots**](docs/AvailabilitySlotsApi.md#post_availability_experiences_experience_id_options_option_id_slots) | **POST** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots | Create availability slots for experience
*OpenapiClient::AvailabilitySlotsApi* | [**put_availability_experiences_experience_id_options_option_id_slots_availability_slot_id**](docs/AvailabilitySlotsApi.md#put_availability_experiences_experience_id_options_option_id_slots_availability_slot_id) | **PUT** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/{availability_slot_id} | Update availability slot for option
*OpenapiClient::DailySlotsApi* | [**get_availability_experiences_experience_id_options_option_id_slots_daily_slots**](docs/DailySlotsApi.md#get_availability_experiences_experience_id_options_option_id_slots_daily_slots) | **GET** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/daily_slots | Get daily slots for option
*OpenapiClient::ExperiencesApi* | [**get_catalog_experiences**](docs/ExperiencesApi.md#get_catalog_experiences) | **GET** /supplier/catalog/experiences | Get experiences
*OpenapiClient::ExperiencesApi* | [**get_catalog_experiences_experience_id**](docs/ExperiencesApi.md#get_catalog_experiences_experience_id) | **GET** /supplier/catalog/experiences/{experience_id} | Get experience
*OpenapiClient::ExperiencesApi* | [**patch_catalog_experiences_experience_id**](docs/ExperiencesApi.md#patch_catalog_experiences_experience_id) | **PATCH** /supplier/catalog/experiences/{experience_id} | Update experience
*OpenapiClient::ExperiencesApi* | [**post_catalog_experiences**](docs/ExperiencesApi.md#post_catalog_experiences) | **POST** /supplier/catalog/experiences | Create experience
*OpenapiClient::MandatoryQuestionsApi* | [**delete_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id**](docs/MandatoryQuestionsApi.md#delete_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id) | **DELETE** /supplier/catalog/experiences/{experience_id}/mandatory-questions/{mandatory_question_id} | Remove mandatory question from experience
*OpenapiClient::MandatoryQuestionsApi* | [**get_catalog_experiences_experience_id_mandatory_questions**](docs/MandatoryQuestionsApi.md#get_catalog_experiences_experience_id_mandatory_questions) | **GET** /supplier/catalog/experiences/{experience_id}/mandatory-questions | Get mandatory questions for experience
*OpenapiClient::MandatoryQuestionsApi* | [**get_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id**](docs/MandatoryQuestionsApi.md#get_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id) | **GET** /supplier/catalog/experiences/{experience_id}/mandatory-questions/{mandatory_question_id} | Get mandatory question for experience
*OpenapiClient::MandatoryQuestionsApi* | [**post_catalog_experiences_experience_id_mandatory_questions**](docs/MandatoryQuestionsApi.md#post_catalog_experiences_experience_id_mandatory_questions) | **POST** /supplier/catalog/experiences/{experience_id}/mandatory-questions | Create mandatory question for experience
*OpenapiClient::MandatoryQuestionsApi* | [**put_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id**](docs/MandatoryQuestionsApi.md#put_catalog_experiences_experience_id_mandatory_questions_mandatory_question_id) | **PUT** /supplier/catalog/experiences/{experience_id}/mandatory-questions/{mandatory_question_id} | Update mandatory question for experience
*OpenapiClient::OpenSlotsApi* | [**get_availability_experiences_experience_id_options_option_id_slots_open_slots**](docs/OpenSlotsApi.md#get_availability_experiences_experience_id_options_option_id_slots_open_slots) | **GET** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/open_slots | Get open slot for option
*OpenapiClient::OptionsApi* | [**delete_catalog_experiences_experience_id_options_option_id**](docs/OptionsApi.md#delete_catalog_experiences_experience_id_options_option_id) | **DELETE** /supplier/catalog/experiences/{experience_id}/options/{option_id} | Remove option from experience
*OpenapiClient::OptionsApi* | [**post_catalog_experiences_experience_id_options**](docs/OptionsApi.md#post_catalog_experiences_experience_id_options) | **POST** /supplier/catalog/experiences/{experience_id}/options | Create option for experience
*OpenapiClient::OptionsApi* | [**put_catalog_experiences_experience_id_options_option_id**](docs/OptionsApi.md#put_catalog_experiences_experience_id_options_option_id) | **PUT** /supplier/catalog/experiences/{experience_id}/options/{option_id} | Update option for experience
*OpenapiClient::PickupsApi* | [**delete_catalog_pickups_pickup_id**](docs/PickupsApi.md#delete_catalog_pickups_pickup_id) | **DELETE** /supplier/catalog/pickups/{pickup_id} | Remove pickup
*OpenapiClient::PickupsApi* | [**get_catalog_pickups**](docs/PickupsApi.md#get_catalog_pickups) | **GET** /supplier/catalog/pickups | Get pickups
*OpenapiClient::PickupsApi* | [**get_catalog_pickups_pickup_id**](docs/PickupsApi.md#get_catalog_pickups_pickup_id) | **GET** /supplier/catalog/pickups/{pickup_id} | Get pickup
*OpenapiClient::PickupsApi* | [**post_catalog_pickups**](docs/PickupsApi.md#post_catalog_pickups) | **POST** /supplier/catalog/pickups | Create pickup
*OpenapiClient::TimeSlotsApi* | [**get_availability_experiences_experience_id_options_option_id_slots_time_slots**](docs/TimeSlotsApi.md#get_availability_experiences_experience_id_options_option_id_slots_time_slots) | **GET** /supplier/availability/experiences/{experience_id}/options/{option_id}/slots/time_slots | Get time slots for option
*OpenapiClient::VendorsApi* | [**get_vendors**](docs/VendorsApi.md#get_vendors) | **GET** /supplier/vendors | Get vendors
*OpenapiClient::VendorsApi* | [**post_vendors**](docs/VendorsApi.md#post_vendors) | **POST** /supplier/vendors | Create vendor
*OpenapiClient::WebhookTestsApi* | [**post_integration_tests_book**](docs/WebhookTestsApi.md#post_integration_tests_book) | **POST** /supplier/integration-tests/book | Test booking confirmation
*OpenapiClient::WebhookTestsApi* | [**post_integration_tests_cancel_booking**](docs/WebhookTestsApi.md#post_integration_tests_cancel_booking) | **POST** /supplier/integration-tests/cancel-booking | Test booking cancellation
*OpenapiClient::WebhookTestsApi* | [**post_integration_tests_hold**](docs/WebhookTestsApi.md#post_integration_tests_hold) | **POST** /supplier/integration-tests/hold | Test hold availability


## Documentation for Models

 - [OpenapiClient::AvailabilityOpenSlot](docs/AvailabilityOpenSlot.md)
 - [OpenapiClient::AvailabilitySlot](docs/AvailabilitySlot.md)
 - [OpenapiClient::AvailabilitySlotDaily](docs/AvailabilitySlotDaily.md)
 - [OpenapiClient::AvailabilitySlotGeneric](docs/AvailabilitySlotGeneric.md)
 - [OpenapiClient::AvailabilityTimeSlot](docs/AvailabilityTimeSlot.md)
 - [OpenapiClient::AvailableHolderCategory](docs/AvailableHolderCategory.md)
 - [OpenapiClient::BookingCancellation](docs/BookingCancellation.md)
 - [OpenapiClient::BookingCancellationTimeout](docs/BookingCancellationTimeout.md)
 - [OpenapiClient::DailySlot](docs/DailySlot.md)
 - [OpenapiClient::DurationDays](docs/DurationDays.md)
 - [OpenapiClient::EndDate](docs/EndDate.md)
 - [OpenapiClient::ErrorResponse](docs/ErrorResponse.md)
 - [OpenapiClient::Experience](docs/Experience.md)
 - [OpenapiClient::ExperienceUpdateRequest](docs/ExperienceUpdateRequest.md)
 - [OpenapiClient::HolderCategory](docs/HolderCategory.md)
 - [OpenapiClient::MandatoryQuestion](docs/MandatoryQuestion.md)
 - [OpenapiClient::OpenSlot](docs/OpenSlot.md)
 - [OpenapiClient::Option](docs/Option.md)
 - [OpenapiClient::PatchAvailabilityExperiencesExperienceIdOptionsOptionIdSlotsAvailabilitySlotIdRequest](docs/PatchAvailabilityExperiencesExperienceIdOptionsOptionIdSlotsAvailabilitySlotIdRequest.md)
 - [OpenapiClient::Pickup](docs/Pickup.md)
 - [OpenapiClient::PostIntegrationTestsCancelBookingRequest](docs/PostIntegrationTestsCancelBookingRequest.md)
 - [OpenapiClient::TestBookingConfirmationRequest](docs/TestBookingConfirmationRequest.md)
 - [OpenapiClient::TestBookingConfirmationRequestBookingRequestsInner](docs/TestBookingConfirmationRequestBookingRequestsInner.md)
 - [OpenapiClient::TestBookingConfirmationRequestBookingRequestsInnerMandatoryAnswersInner](docs/TestBookingConfirmationRequestBookingRequestsInnerMandatoryAnswersInner.md)
 - [OpenapiClient::TestBookingConfirmationRequestHolder](docs/TestBookingConfirmationRequestHolder.md)
 - [OpenapiClient::TestHoldAvailabilityRequest](docs/TestHoldAvailabilityRequest.md)
 - [OpenapiClient::TestHoldAvailabilityRequestQuantitiesInner](docs/TestHoldAvailabilityRequestQuantitiesInner.md)
 - [OpenapiClient::TimeSlot](docs/TimeSlot.md)
 - [OpenapiClient::Vendor](docs/Vendor.md)


## Documentation for Authorization


Authentication schemes defined for the API:
### Supplier-production


- **Type**: OAuth
- **Flow**: application
- **Authorization URL**: 
- **Scopes**: N/A

### Supplier-sandbox


- **Type**: OAuth
- **Flow**: application
- **Authorization URL**: 
- **Scopes**: N/A

### Webhook


- **Type**: API key
- **API key parameter name**: x-webhook-key
- **Location**: HTTP header

